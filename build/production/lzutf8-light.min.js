/*!
 LZ-UTF8-LIGHT v0.6.5

 Copyright (c) 2021, Rotem Dan
 Released under the MIT license.

 Build date: 2024-04-10 

 Please report any issue at https://github.com/chunlaw/lzutf8-light.js/issues
*/
var IE10SubarrayBugPatcher,LZUTF8_LIGHT;!function(r){r.runningInNodeJS=function(){return"object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node},r.runningInMainNodeJSModule=function(){return r.runningInNodeJS()&&require.main===module},r.commonJSAvailable=function(){return"object"==typeof module&&"object"==typeof module.exports},r.runningInWebWorker=function(){return"undefined"==typeof window&&"object"==typeof self&&"function"==typeof self.addEventListener&&"function"==typeof self.close},r.runningInNodeChildProcess=function(){return r.runningInNodeJS()&&"function"==typeof process.send},r.runningInNullOrigin=function(){return"object"==typeof window&&"object"==typeof window.location&&"object"==typeof document&&("http:"!==document.location.protocol&&"https:"!==document.location.protocol)},r.webWorkersAvailable=function(){return"function"==typeof Worker&&!r.runningInNullOrigin()&&(!r.runningInNodeJS()&&!(navigator&&navigator.userAgent&&0<=navigator.userAgent.indexOf("Android 4.3")))},r.log=function(t,e){void 0===e&&(e=!1),"object"==typeof console&&(console.log(t),e&&"object"==typeof document&&(document.body.innerHTML+=t+"<br/>"))},r.createErrorMessage=function(t,e){return void 0===e&&(e="Unhandled exception"),null==t?e:(e+=": ","object"==typeof t.content?r.runningInNodeJS()?e+t.content.stack:"{}"!==(n=JSON.stringify(t.content))?e+n:e+t.content:"string"==typeof t.content?e+t.content:e+t);var n},r.printExceptionAndStackTraceToConsole=function(t,e){r.log(r.createErrorMessage(t,e=void 0===e?"Unhandled exception":e))},r.getGlobalObject=function(){return"object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:{}},r.toString=Object.prototype.toString,r.commonJSAvailable()&&(module.exports=r)}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(){if("function"==typeof Uint8Array&&0!==new Uint8Array(1).subarray(1).byteLength){function t(t,e){function n(t,e,n){return t<e?e:n<t?n:t}t|=0,e|=0,arguments.length<1&&(t=0),arguments.length<2&&(e=this.length),t<0&&(t=this.length+t),e<0&&(e=this.length+e),t=n(t,0,this.length);var r=(e=n(e,0,this.length))-t;return new this.constructor(this.buffer,this.byteOffset+t*this.BYTES_PER_ELEMENT,r=r<0?0:r)}var e=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],n=void 0;if("object"==typeof window?n=window:"object"==typeof self&&(n=self),void 0!==n)for(var r=0;r<e.length;r++)n[e[r]]&&(n[e[r]].prototype.subarray=t)}}(IE10SubarrayBugPatcher=IE10SubarrayBugPatcher||{}),function(t){function e(t,e,n){this.container=t,this.startPosition=e,this.length=n}e.prototype.get=function(t){return this.container[this.startPosition+t]},e.prototype.getInReversedOrder=function(t){return this.container[this.startPosition+this.length-1-t]},e.prototype.set=function(t,e){this.container[this.startPosition+t]=e},t.ArraySegment=e}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(t){(t=t.ArrayTools||(t.ArrayTools={})).copyElements=function(t,e,n,r,o){for(;o--;)n[r++]=t[e++]},t.zeroElements=function(t,e,n){for(;n--;)t[e++]=0},t.countNonzeroValuesInArray=function(t){for(var e=0,n=0;n<t.length;n++)t[n]&&e++;return e},t.truncateStartingElements=function(t,e){if(t.length<=e)throw new RangeError("truncateStartingElements: Requested length should be smaller than array length");for(var n=t.length-e,r=0;r<e;r++)t[r]=t[n+r];t.length=e},t.doubleByteArrayCapacity=function(t){var e=new Uint8Array(2*t.length);return e.set(t),e},t.concatUint8Arrays=function(t){for(var e=0,n=0,r=t;n<r.length;n++)e+=(s=r[n]).length;for(var o=new Uint8Array(e),i=0,u=0,a=t;u<a.length;u++){var s=a[u];o.set(s,i),i+=s.length}return o},t.splitByteArray=function(t,e){for(var n=[],r=0;r<t.length;){var o=Math.min(e,t.length-r);n.push(t.subarray(r,r+o)),r+=o}return n}}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(t){var e;(e=t.BufferTools||(t.BufferTools={})).convertToUint8ArrayIfNeeded=function(t){return"function"==typeof Buffer&&Buffer.isBuffer(t)?e.bufferToUint8Array(t):t},e.uint8ArrayToBuffer=function(t){var e;if(Buffer.prototype instanceof Uint8Array)return e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),Object.setPrototypeOf(e,Buffer.prototype),e;for(var n=t.length,r=new Buffer(n),o=0;o<n;o++)r[o]=t[o];return r},e.bufferToUint8Array=function(t){if(Buffer.prototype instanceof Uint8Array)return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t[r];return n}}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(o){var t;(t=o.CompressionCommon||(o.CompressionCommon={})).getCroppedBuffer=function(t,e,n,r){void 0===r&&(r=0);r=new Uint8Array(n+r);return r.set(t.subarray(e,e+n)),r},t.getCroppedAndAppendedByteArray=function(t,e,n,r){return o.ArrayTools.concatUint8Arrays([t.subarray(e,e+n),r])},t.detectCompressionSourceEncoding=function(t){if(null==t)throw new TypeError("detectCompressionSourceEncoding: input is null or undefined");if("string"==typeof t)return"String";if(t instanceof Uint8Array||"function"==typeof Buffer&&Buffer.isBuffer(t))return"ByteArray";throw new TypeError("detectCompressionSourceEncoding: input must be of type 'string', 'Uint8Array' or 'Buffer'")},t.encodeCompressedBytes=function(t,e){switch(e){case"ByteArray":return t;case"Buffer":return o.BufferTools.uint8ArrayToBuffer(t);case"Base64":return o.encodeBase64(t);case"BinaryString":return o.encodeBinaryString(t);case"StorageBinaryString":return o.encodeStorageBinaryString(t);default:throw new TypeError("encodeCompressedBytes: invalid output encoding requested")}},t.decodeCompressedBytes=function(t,e){if(null==e)throw new TypeError("decodeCompressedData: Input is null or undefined");switch(e){case"ByteArray":case"Buffer":var n=o.BufferTools.convertToUint8ArrayIfNeeded(t);if(n instanceof Uint8Array)return n;throw new TypeError("decodeCompressedData: 'ByteArray' or 'Buffer' input type was specified but input is not a Uint8Array or Buffer");case"Base64":if("string"!=typeof t)throw new TypeError("decodeCompressedData: 'Base64' input type was specified but input is not a string");return o.decodeBase64(t);case"BinaryString":if("string"!=typeof t)throw new TypeError("decodeCompressedData: 'BinaryString' input type was specified but input is not a string");return o.decodeBinaryString(t);case"StorageBinaryString":if("string"!=typeof t)throw new TypeError("decodeCompressedData: 'StorageBinaryString' input type was specified but input is not a string");return o.decodeStorageBinaryString(t);default:throw new TypeError("decodeCompressedData: invalid input encoding requested: '".concat(e,"'"))}},t.encodeDecompressedBytes=function(t,e){switch(e){case"String":return o.decodeUTF8(t);case"ByteArray":return t;case"Buffer":if("function"!=typeof Buffer)throw new TypeError("encodeDecompressedBytes: a 'Buffer' type was specified but is not supported at the current envirnment");return o.BufferTools.uint8ArrayToBuffer(t);default:throw new TypeError("encodeDecompressedBytes: invalid output encoding requested")}}}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(o){var e,t,i,u;t=e=o.EventLoop||(o.EventLoop={}),u=[],t.enqueueImmediate=function(t){u.push(t),1===u.length&&i()},t.initializeScheduler=function(){function e(){for(var t=0,e=u;t<e.length;t++){var n=e[t];try{n.call(void 0)}catch(t){o.printExceptionAndStackTraceToConsole(t,"enqueueImmediate exception")}}u.length=0}var n,t,r;o.runningInNodeJS()&&(i=function(){return setImmediate(e)}),i="object"==typeof window&&"function"==typeof window.addEventListener&&"function"==typeof window.postMessage?(n="enqueueImmediate-"+Math.random().toString(),window.addEventListener("message",function(t){t.data===n&&e()}),t=o.runningInNullOrigin()?"*":window.location.href,function(){return window.postMessage(n,t)}):"function"==typeof MessageChannel&&"function"==typeof MessagePort?((r=new MessageChannel).port1.onmessage=e,function(){return r.port2.postMessage(0)}):function(){return setTimeout(e,0)}},t.initializeScheduler(),o.enqueueImmediate=function(t){return e.enqueueImmediate(t)}}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(t){var n;(n=t.ObjectTools||(t.ObjectTools={})).override=function(t,e){return n.extend(t,e)},n.extend=function(t,e){if(null==t)throw new TypeError("obj is null or undefined");if("object"!=typeof t)throw new TypeError("obj is not an object");if("object"!=typeof(e=null==e?{}:e))throw new TypeError("newProperties is not an object");if(null!=e)for(var n in e)t[n]=e[n];return t}}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(o){o.getRandomIntegerInRange=function(t,e){return t+Math.floor(Math.random()*(e-t))},o.getRandomUTF16StringOfLength=function(t){for(var e="",n=0;n<t;n++){for(var r=void 0;55296<=(r=o.getRandomIntegerInRange(0,1114112))&&r<=57343;);e+=o.Encoding.CodePoint.decodeToString(r)}return e}}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(t){function e(t){this.outputBufferCapacity=t=void 0===t?1024:t,this.outputPosition=0,this.outputString="",this.outputBuffer=new Uint16Array(this.outputBufferCapacity)}e.prototype.appendCharCode=function(t){this.outputBuffer[this.outputPosition++]=t,this.outputPosition===this.outputBufferCapacity&&this.flushBufferToOutputString()},e.prototype.appendCharCodes=function(t){for(var e=0,n=t.length;e<n;e++)this.appendCharCode(t[e])},e.prototype.appendString=function(t){for(var e=0,n=t.length;e<n;e++)this.appendCharCode(t.charCodeAt(e))},e.prototype.appendCodePoint=function(t){if(t<=65535)this.appendCharCode(t);else{if(!(t<=1114111))throw new Error("appendCodePoint: A code point of ".concat(t," cannot be encoded in UTF-16"));this.appendCharCode(55296+(t-65536>>>10)),this.appendCharCode(56320+(t-65536&1023))}},e.prototype.getOutputString=function(){return this.flushBufferToOutputString(),this.outputString},e.prototype.flushBufferToOutputString=function(){this.outputPosition===this.outputBufferCapacity?this.outputString+=String.fromCharCode.apply(null,this.outputBuffer):this.outputString+=String.fromCharCode.apply(null,this.outputBuffer.subarray(0,this.outputPosition)),this.outputPosition=0},t.StringBuilder=e}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(r){function t(){this.restart()}t.prototype.restart=function(){this.startTime=t.getTimestamp()},t.prototype.getElapsedTime=function(){return t.getTimestamp()-this.startTime},t.prototype.getElapsedTimeAndRestart=function(){var t=this.getElapsedTime();return this.restart(),t},t.prototype.logAndRestart=function(t,e){void 0===e&&(e=!0);var n=this.getElapsedTime(),t="".concat(t,": ").concat(n.toFixed(3),"ms");return r.log(t,e),this.restart(),n},t.getTimestamp=function(){return this.timestampFunc||this.createGlobalTimestampFunction(),this.timestampFunc()},t.getMicrosecondTimestamp=function(){return Math.floor(1e3*t.getTimestamp())},t.createGlobalTimestampFunction=function(){var e,t,n,r;"object"==typeof process&&"function"==typeof process.hrtime?(e=0,this.timestampFunc=function(){var t=process.hrtime(),t=1e3*t[0]+t[1]/1e6;return e+t},e=Date.now()-this.timestampFunc()):"object"==typeof chrome&&chrome.Interval?(t=Date.now(),(n=new chrome.Interval).start(),this.timestampFunc=function(){return t+n.microseconds()/1e3}):"object"==typeof performance&&performance.now?(r=Date.now()-performance.now(),this.timestampFunc=function(){return r+performance.now()}):Date.now?this.timestampFunc=function(){return Date.now()}:this.timestampFunc=function(){return(new Date).getTime()}},r.Timer=t}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(r){function t(t){void 0===t&&(t=!0),this.MinimumSequenceLength=4,this.MaximumSequenceLength=31,this.MaximumMatchDistance=32767,this.PrefixHashTableSize=65537,this.inputBufferStreamOffset=1,t&&"function"==typeof Uint32Array?this.prefixHashTable=new r.CompressorCustomHashTable(this.PrefixHashTableSize):this.prefixHashTable=new r.CompressorSimpleHashTable(this.PrefixHashTableSize)}t.prototype.compressBlock=function(t){if(null==t)throw new TypeError("compressBlock: undefined or null input received");return"string"==typeof t&&(t=r.encodeUTF8(t)),t=r.BufferTools.convertToUint8ArrayIfNeeded(t),this.compressUtf8Block(t)},t.prototype.compressUtf8Block=function(t){if(!t||0==t.length)return new Uint8Array(0);for(var e=this.cropAndAddNewBytesToInputBuffer(t),n=this.inputBuffer,r=this.inputBuffer.length,o=(this.outputBuffer=new Uint8Array(t.length),this.outputBufferPosition=0),i=e;i<r;i++){var u,a,s=n[i],c=i<o;i>r-this.MinimumSequenceLength?c||this.outputRawByte(s):(u=this.getBucketIndexForPrefix(i),a=(c||null!=(a=this.findLongestMatch(i,u))&&(this.outputPointerBytes(a.length,a.distance),o=i+a.length,c=!0),c||this.outputRawByte(s),this.inputBufferStreamOffset+i),this.prefixHashTable.addValueToBucket(u,a))}return this.outputBuffer.subarray(0,this.outputBufferPosition)},t.prototype.findLongestMatch=function(t,e){var n=this.prefixHashTable.getArraySegmentForBucketIndex(e,this.reusableArraySegmentObject);if(null==n)return null;for(var r,o=this.inputBuffer,i=0,u=0;u<n.length;u++){var a=n.getInReversedOrder(u)-this.inputBufferStreamOffset,s=t-a,c=void 0,c=void 0===r?this.MinimumSequenceLength-1:r<128&&128<=s?i+(i>>>1):i;if(s>this.MaximumMatchDistance||c>=this.MaximumSequenceLength||t+c>=o.length)break;if(o[a+c]===o[t+c])for(var f=0;;f++){if(t+f===o.length||o[a+f]!==o[t+f]){c<f&&(r=s,i=f);break}if(f===this.MaximumSequenceLength)return{distance:s,length:this.MaximumSequenceLength}}}return void 0!==r?{distance:r,length:i}:null},t.prototype.getBucketIndexForPrefix=function(t){return(7880599*this.inputBuffer[t]+39601*this.inputBuffer[t+1]+199*this.inputBuffer[t+2]+this.inputBuffer[t+3])%this.PrefixHashTableSize},t.prototype.outputPointerBytes=function(t,e){e<128?(this.outputRawByte(192|t),this.outputRawByte(e)):(this.outputRawByte(224|t),this.outputRawByte(e>>>8),this.outputRawByte(255&e))},t.prototype.outputRawByte=function(t){this.outputBuffer[this.outputBufferPosition++]=t},t.prototype.cropAndAddNewBytesToInputBuffer=function(t){var e,n;return void 0===this.inputBuffer?(this.inputBuffer=t,0):(e=Math.min(this.inputBuffer.length,this.MaximumMatchDistance),n=this.inputBuffer.length-e,this.inputBuffer=r.CompressionCommon.getCroppedAndAppendedByteArray(this.inputBuffer,n,e,t),this.inputBufferStreamOffset+=n,e)},r.Compressor=t}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(a){function t(t){this.minimumBucketCapacity=4,this.maximumBucketCapacity=64,this.bucketLocators=new Uint32Array(2*t),this.storage=new Uint32Array(2*t),this.storageIndex=1}t.prototype.addValueToBucket=function(t,e){t<<=1,this.storageIndex>=this.storage.length>>>1&&this.compact();var n,r,o=this.bucketLocators[t];0===o?(o=this.storageIndex,n=1,this.storage[this.storageIndex]=e,this.storageIndex+=this.minimumBucketCapacity):(r=o+(n=(n=this.bucketLocators[t+1])===this.maximumBucketCapacity-1?this.truncateBucketToNewerElements(o,n,this.maximumBucketCapacity/2):n),0===this.storage[r]?(this.storage[r]=e,r===this.storageIndex&&(this.storageIndex+=n)):(a.ArrayTools.copyElements(this.storage,o,this.storage,this.storageIndex,n),o=this.storageIndex,this.storageIndex+=n,this.storage[this.storageIndex++]=e,this.storageIndex+=n),n++),this.bucketLocators[t]=o,this.bucketLocators[t+1]=n},t.prototype.truncateBucketToNewerElements=function(t,e,n){return a.ArrayTools.copyElements(this.storage,t+e-n,this.storage,t,n),a.ArrayTools.zeroElements(this.storage,t+n,e-n),n},t.prototype.compact=function(){var t=this.bucketLocators,e=this.storage;this.bucketLocators=new Uint32Array(this.bucketLocators.length),this.storageIndex=1;for(var n=0;n<t.length;n+=2){var r=t[n+1];0!==r&&(this.bucketLocators[n]=this.storageIndex,this.bucketLocators[n+1]=r,this.storageIndex+=Math.max(Math.min(2*r,this.maximumBucketCapacity),this.minimumBucketCapacity))}this.storage=new Uint32Array(8*this.storageIndex);for(n=0;n<t.length;n+=2){var o,i,u=t[n];0!==u&&(o=this.bucketLocators[n],i=this.bucketLocators[n+1],a.ArrayTools.copyElements(e,u,this.storage,o,i))}},t.prototype.getArraySegmentForBucketIndex=function(t,e){var n=this.bucketLocators[t<<=1];return 0===n?null:void 0===e?new a.ArraySegment(this.storage,n,this.bucketLocators[t+1]):e},t.prototype.getUsedBucketCount=function(){return Math.floor(a.ArrayTools.countNonzeroValuesInArray(this.bucketLocators)/2)},t.prototype.getTotalElementCount=function(){for(var t=0,e=0;e<this.bucketLocators.length;e+=2)t+=this.bucketLocators[e+1];return t},a.CompressorCustomHashTable=t}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(r){function t(t){this.maximumBucketCapacity=64,this.buckets=new Array(t)}t.prototype.addValueToBucket=function(t,e){var n=this.buckets[t];void 0===n?this.buckets[t]=[e]:(n.length===this.maximumBucketCapacity-1&&r.ArrayTools.truncateStartingElements(n,this.maximumBucketCapacity/2),n.push(e))},t.prototype.getArraySegmentForBucketIndex=function(t,e){t=this.buckets[t];return void 0===t?null:void 0===e?new r.ArraySegment(t,0,t.length):e},t.prototype.getUsedBucketCount=function(){return r.ArrayTools.countNonzeroValuesInArray(this.buckets)},t.prototype.getTotalElementCount=function(){for(var t=0,e=0;e<this.buckets.length;e++)void 0!==this.buckets[e]&&(t+=this.buckets[e].length);return t},r.CompressorSimpleHashTable=t}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(c){function t(){this.MaximumMatchDistance=32767,this.outputPosition=0}t.prototype.decompressBlockToString=function(t){return t=c.BufferTools.convertToUint8ArrayIfNeeded(t),c.decodeUTF8(this.decompressBlock(t))},t.prototype.decompressBlock=function(t){this.inputBufferRemainder&&(t=c.ArrayTools.concatUint8Arrays([this.inputBufferRemainder,t]),this.inputBufferRemainder=void 0);for(var e=this.cropOutputBufferToWindowAndInitialize(Math.max(4*t.length,1024)),n=0,r=t.length;n<r;n++){var o=t[n];if(o>>>6!=3)this.outputByte(o);else{var i=o>>>5;if(n==r-1||n==r-2&&7==i){this.inputBufferRemainder=t.subarray(n);break}if(t[n+1]>>>7==1)this.outputByte(o);else for(var u=31&o,o=void 0,a=(6==i?(o=t[n+1],n+=1):(o=t[n+1]<<8|t[n+2],n+=2),this.outputPosition-o),s=0;s<u;s++)this.outputByte(this.outputBuffer[a+s])}}return this.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence(),c.CompressionCommon.getCroppedBuffer(this.outputBuffer,e,this.outputPosition-e)},t.prototype.outputByte=function(t){this.outputPosition===this.outputBuffer.length&&(this.outputBuffer=c.ArrayTools.doubleByteArrayCapacity(this.outputBuffer)),this.outputBuffer[this.outputPosition++]=t},t.prototype.cropOutputBufferToWindowAndInitialize=function(t){if(!this.outputBuffer)return this.outputBuffer=new Uint8Array(t),0;var e=Math.min(this.outputPosition,this.MaximumMatchDistance);if(this.outputBuffer=c.CompressionCommon.getCroppedBuffer(this.outputBuffer,this.outputPosition-e,e,t),this.outputPosition=e,this.outputBufferRemainder){for(var n=0;n<this.outputBufferRemainder.length;n++)this.outputByte(this.outputBufferRemainder[n]);this.outputBufferRemainder=void 0}return e},t.prototype.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence=function(){for(var t=1;t<=4&&0<=this.outputPosition-t;t++){var e=this.outputBuffer[this.outputPosition-t];if(t<4&&e>>>3==30||t<3&&e>>>4==14||t<2&&e>>>5==6)return this.outputBufferRemainder=this.outputBuffer.subarray(this.outputPosition-t,this.outputPosition),void(this.outputPosition-=t)}},c.Decompressor=t}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(a){var t,e,s,c;t=a.Encoding||(a.Encoding={}),e=t.Base64||(t.Base64={}),s=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47]),c=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,255,255,255,255]),e.encode=function(t){return t&&0!=t.length?a.runningInNodeJS()?a.BufferTools.uint8ArrayToBuffer(t).toString("base64"):e.encodeWithJS(t):""},e.decode=function(t){return t?a.runningInNodeJS()?a.BufferTools.bufferToUint8Array(Buffer.from(t,"base64")):e.decodeWithJS(t):new Uint8Array(0)},e.encodeWithJS=function(t,e){if(void 0===e&&(e=!0),!t||0==t.length)return"";for(var n,r=s,o=new a.StringBuilder,i=0,u=t.length;i<u;i+=3)i<=u-3?(n=t[i]<<16|t[i+1]<<8|t[i+2],o.appendCharCode(r[n>>>18&63]),o.appendCharCode(r[n>>>12&63]),o.appendCharCode(r[n>>>6&63]),o.appendCharCode(r[63&n]),n=0):i===u-2?(n=t[i]<<16|t[i+1]<<8,o.appendCharCode(r[n>>>18&63]),o.appendCharCode(r[n>>>12&63]),o.appendCharCode(r[n>>>6&63]),e&&o.appendCharCode(61)):i===u-1&&(n=t[i]<<16,o.appendCharCode(r[n>>>18&63]),o.appendCharCode(r[n>>>12&63]),e&&(o.appendCharCode(61),o.appendCharCode(61)));return o.getOutputString()},e.decodeWithJS=function(t,e){if(!t||0==t.length)return new Uint8Array(0);var n=t.length%4;if(1==n)throw new Error("Invalid Base64 string: length % 4 == 1");2==n?t+="==":3==n&&(t+="="),e=e||new Uint8Array(t.length);for(var r=0,o=t.length,i=0;i<o;i+=4){var u=c[t.charCodeAt(i)]<<18|c[t.charCodeAt(i+1)]<<12|c[t.charCodeAt(i+2)]<<6|c[t.charCodeAt(i+3)];e[r++]=u>>>16&255,e[r++]=u>>>8&255,e[r++]=255&u}return 61==t.charCodeAt(o-1)&&r--,61==t.charCodeAt(o-2)&&r--,e.subarray(0,r)}}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(a){var t;(t=(t=a.Encoding||(a.Encoding={})).BinaryString||(t.BinaryString={})).encode=function(t){if(null==t)throw new TypeError("BinaryString.encode: undefined or null input received");if(0===t.length)return"";for(var e=t.length,n=new a.StringBuilder,r=0,o=1,i=0;i<e;i+=2){var u=void 0,u=i==e-1?t[i]<<8:t[i]<<8|t[i+1];n.appendCharCode(r<<16-o|u>>>o),r=u&(1<<o)-1,15===o?(n.appendCharCode(r),r=0,o=1):o+=1,e-2<=i&&n.appendCharCode(r<<16-o)}return n.appendCharCode(32768|e%2),n.getOutputString()},t.decode=function(t){if("string"!=typeof t)throw new TypeError("BinaryString.decode: invalid input type");if(""==t)return new Uint8Array(0);for(var e,n=new Uint8Array(3*t.length),r=0,o=0,i=0,u=0;u<t.length;u++){var a=t.charCodeAt(u);32768<=a?(32769==a&&r--,i=0):(o=0==i?a:(e=o<<i|a>>>15-i,n[r++]=e>>>8,n[r++]=255&e,a&(1<<15-i)-1),15==i?i=0:i+=1)}return n.subarray(0,r)}}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(t){(t=(t=t.Encoding||(t.Encoding={})).CodePoint||(t.CodePoint={})).encodeFromString=function(t,e){var n=t.charCodeAt(e);if(n<55296||56319<n)return n;t=t.charCodeAt(e+1);if(56320<=t&&t<=57343)return t-56320+(n-55296<<10)+65536;throw new Error("getUnicodeCodePoint: Received a lead surrogate character, char code ".concat(n,", followed by ").concat(t,", which is not a trailing surrogate character code."))},t.decodeToString=function(t){if(t<=65535)return String.fromCharCode(t);if(t<=1114111)return String.fromCharCode(55296+(t-65536>>>10),56320+(t-65536&1023));throw new Error("getStringFromUnicodeCodePoint: A code point of ".concat(t," cannot be encoded in UTF-16"))}}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(t){var r;t=(t=t.Encoding||(t.Encoding={})).DecimalString||(t.DecimalString={}),r=["000","001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","017","018","019","020","021","022","023","024","025","026","027","028","029","030","031","032","033","034","035","036","037","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","053","054","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","093","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255"],t.encode=function(t){for(var e=[],n=0;n<t.length;n++)e.push(r[t[n]]);return e.join(" ")}}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(t){var e;e=t.Encoding||(t.Encoding={}),(t=e.StorageBinaryString||(e.StorageBinaryString={})).encode=function(t){return e.BinaryString.encode(t).replace(/\0/g,"耂")},t.decode=function(t){return e.BinaryString.decode(t.replace(/\u8002/g,"\0"))}}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(s){var i,e,n,r;i=s.Encoding||(s.Encoding={}),(e=i.UTF8||(i.UTF8={})).encode=function(t){return t&&0!=t.length?s.runningInNodeJS()?s.BufferTools.bufferToUint8Array(Buffer.from(t,"utf8")):e.createNativeTextEncoderAndDecoderIfAvailable()?n.encode(t):e.encodeWithJS(t):new Uint8Array(0)},e.decode=function(t){return t&&0!=t.length?s.runningInNodeJS()?s.BufferTools.uint8ArrayToBuffer(t).toString("utf8"):e.createNativeTextEncoderAndDecoderIfAvailable()?r.decode(t):e.decodeWithJS(t):""},e.encodeWithJS=function(t,e){if(!t||0==t.length)return new Uint8Array(0);e=e||new Uint8Array(4*t.length);for(var n=0,r=0;r<t.length;r++){var o=i.CodePoint.encodeFromString(t,r);if(o<=127)e[n++]=o;else if(o<=2047)e[n++]=192|o>>>6,e[n++]=128|63&o;else if(o<=65535)e[n++]=224|o>>>12,e[n++]=128|o>>>6&63,e[n++]=128|63&o;else{if(!(o<=1114111))throw new Error("Invalid UTF-16 string: Encountered a character unsupported by UTF-8/16 (RFC 3629)");e[n++]=240|o>>>18,e[n++]=128|o>>>12&63,e[n++]=128|o>>>6&63,e[n++]=128|63&o,r++}}return e.subarray(0,n)},e.decodeWithJS=function(t,e,n){if(void 0===e&&(e=0),!t||0==t.length)return"";void 0===n&&(n=t.length);for(var r,o,i=new s.StringBuilder,u=e,a=n;u<a;){if((o=t[u])>>>7==0)r=o,u+=1;else if(o>>>5==6){if(n<=u+1)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+u);r=(31&o)<<6|63&t[u+1],u+=2}else if(o>>>4==14){if(n<=u+2)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+u);r=(15&o)<<12|(63&t[u+1])<<6|63&t[u+2],u+=3}else{if(o>>>3!=30)throw new Error("Invalid UTF-8 stream: An invalid lead byte value encountered at position "+u);if(n<=u+3)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+u);r=(7&o)<<18|(63&t[u+1])<<12|(63&t[u+2])<<6|63&t[u+3],u+=4}i.appendCodePoint(r)}return i.getOutputString()},e.createNativeTextEncoderAndDecoderIfAvailable=function(){return!!n||"function"==typeof TextEncoder&&(n=new TextEncoder("utf-8"),r=new TextDecoder("utf-8"),!0)}}(LZUTF8_LIGHT=LZUTF8_LIGHT||{}),function(r){r.compress=function(t,e){if(void 0===e&&(e={}),null==t)throw new TypeError("compress: undefined or null input received");var n=r.CompressionCommon.detectCompressionSourceEncoding(t);return e=r.ObjectTools.override({inputEncoding:n,outputEncoding:"ByteArray"},e),n=(new r.Compressor).compressBlock(t),r.CompressionCommon.encodeCompressedBytes(n,e.outputEncoding)},r.decompress=function(t,e){if(void 0===e&&(e={}),null==t)throw new TypeError("decompress: undefined or null input received");return e=r.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String"},e),t=r.CompressionCommon.decodeCompressedBytes(t,e.inputEncoding),t=(new r.Decompressor).decompressBlock(t),r.CompressionCommon.encodeDecompressedBytes(t,e.outputEncoding)},r.encodeUTF8=function(t){return r.Encoding.UTF8.encode(t)},r.decodeUTF8=function(t){return r.Encoding.UTF8.decode(t)},r.encodeBase64=function(t){return r.Encoding.Base64.encode(t)},r.decodeBase64=function(t){return r.Encoding.Base64.decode(t)},r.encodeBinaryString=function(t){return r.Encoding.BinaryString.encode(t)},r.decodeBinaryString=function(t){return r.Encoding.BinaryString.decode(t)},r.encodeStorageBinaryString=function(t){return r.Encoding.StorageBinaryString.encode(t)},r.decodeStorageBinaryString=function(t){return r.Encoding.StorageBinaryString.decode(t)}}(LZUTF8_LIGHT=LZUTF8_LIGHT||{});